<head>
    <title>Simple Map</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <script src="http://maps.google.com/maps/api/js?"
            type="text/javascript"></script>
    <style>

    </style>
</head>
{{#partial "body"}}

    <div ></div>

    <br>
    <div id="map" style="width: 60%; text-align: center; height: 65%;"></div>
        <div class="row">
            <div class="col-12">
                <a href="/">
                    <button class="btn">
                        Home
                        <i class="material-icons right">home</i>
                    </button>
                </a>
            </div>
    <div id="map" style="width: 60%; text-align: center; margin-right: 70em; height: 65%;"></div>


    <script>
    var x = document.getElementById("demo");

function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
  } else {
    x.innerHTML = "Geolocation is not supported by this browser.";
  }
}

function showPosition(position) {
  x.innerHTML = "Latitude: " + position.coords.latitude +
  "<br>Longitude: " + position.coords.longitude;
}


var map;
function initMap() {
  map = new google.maps.Map(document.getElementById('map'), {
    zoom: 13,
    center: new google.maps.LatLng(-34.015300, 18.650700),
    mapTypeId: 'roadmap'
  });

var iconBase = 'http://maps.google.com/mapfiles/kml/pal2/';
  var icons = {
    Wifi: {
      name: 'wifi',
      icon: iconBase + 'icon13.png'
    }
  };

 var features = [
          {
            position: new google.maps.LatLng(-34.057470, 18.671770),
            type: 'Wifi'
          },

          {
             position: new google.maps.LatLng(-34.015300, 18.650700),
            type: 'Wifi'
          },

          {
             position: new google.maps.LatLng(-34.013530, 18.646660),
            type: 'Wifi'
          },

          {
             position: new google.maps.LatLng(-34.119280, 18.876230),
            type: 'Wifi'
          },

          {
             position: new google.maps.LatLng(-34.056320, 18.687930 ),
            type: 'Wifi'
          },

          {
            position: new google.maps.LatLng(-34.002370, 18.518710 ),
            type: 'Wifi'
          },

          {
            position: new google.maps.LatLng(-34.031610, 18.614800 ),
            type: 'Wifi'
          },

          {
            position: new google.maps.LatLng(-34.031610, 18.614800),
            type: 'Wifi'
          },

          {
             position: new google.maps.LatLng(-34.117880, 18.911970),
            type: 'Wifi'
          },

          {
            position: new google.maps.LatLng(-33.930840, 18.458100 ),
             type: 'Wifi'
          },

          {
            position: new google.maps.LatLng(-33.923130, 18.418130),
             type: 'Wifi'
          },

          {
             position: new google.maps.LatLng(-33.922970, 18.417880),
            type: 'Wifi'
          },

          {
            position: new google.maps.LatLng(-33.908960, 18.584590),
            type: 'Wifi'
          },

          {
             position: new google.maps.LatLng(-33.948290, 18.472270),
             type: 'Wifi'
          },

          {
            position: new google.maps.LatLng(-33.925430, 18.424410),
            type: 'Wifi'
          },


          {
            position: new google.maps.LatLng(-34.019890, 18.691880),
            type: 'Wifi'
          },


          {
            position: new google.maps.LatLng(-33.908740, 18.560370),
            type: 'Wifi'
          },


          {
            position: new google.maps.LatLng(-33.903550, 18.563260),
            type: 'Wifi'
          },

          {
            position: new google.maps.LatLng(-34.029430, 18.664020),
            type: 'Wifi'
          },

          {
            position: new google.maps.LatLng(-33.999060, 18.623740),
            type: 'Wifi'
          },

          {
            position: new google.maps.LatLng(-33.915350, 18.563950),
            type: 'Wifi'
          },

          {
            position: new google.maps.LatLng(-34.055190, 18.690320),
            type: 'Wifi'
          },

          {
            position: new google.maps.LatLng(-34.053470, 18.695490),
            type: 'Wifi'
          },

          {
            position: new google.maps.LatLng(-34.050610, 18.710020 ),
            type: 'Wifi'
          },

          {
            position: new google.maps.LatLng(-33.905560, 18.574329),
            type: 'Wifi'
          }
  ];

  // Create markers.
  features.forEach(function(feature) {
    var marker = new google.maps.Marker({
      position: feature.position,
      icon: icons[feature.type].icon,
      map: map
    });
  });

  var legend = document.getElementById('legend');
  for (var key in icons) {
    var type = icons[key];
    var name = type.name;
    var icon = type.icon;
    var div = document.createElement('div');
    div.innerHTML = '<img src="' + icon + '"> ' + name;
    legend.appendChild(div);
  }

  map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(legend);
}
<!--        var legend = document.getElementById('legend');-->
<!--        for (var key in icons) {-->
<!--          var type = icons[key];-->
<!--          var name = type.name;-->
<!--          var icon = type.icon;-->
<!--          var div = document.createElement('div');-->
<!--          div.innerHTML = '<img src="' + icon + '"> ' + name;-->
<!--          legend.appendChild(div);-->
<!--        }-->
<!--        map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(legend);-->
<!--      }-->

<!--     var locations = [-->
<!--      ['Library  , Harare complex', -34.057470, 18.671770, 4],-->
<!--      ['Library ,   C complex', -34.015300, 18.650700, 5],-->
<!--      ['Youth Clinic', -34.013530, 18.646660, 3],-->
<!--      ['Manly Beach', -33.80010128657071, 151.28747820854187, 2],-->
<!--      ['Mapethu Street', -34.119280, 18.876230, 1]-->
<!--    ];-->
<!-- var infowindow = new google.maps.InfoWindow();-->
<!--var marker, i;-->

<!--    for (i = 0; i < locations.length; i++) {-->
<!--      marker = new google.maps.Marker({-->
<!--        position: new google.maps.LatLng(locations[i][1], locations[i][2]),-->
<!--        map: map-->
<!--      });-->
<!--       google.maps.event.addListener(marker, 'click', (function(marker, i) {-->
<!--        return function() {-->
<!--          infowindow.setContent(locations[i][0]);-->
<!--          infowindow.open(map, marker);-->
<!--        }-->
<!--      })(marker, i));-->
<!--    }-->
<!--}-->
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBU7dAqGQjaF_XO8UOBkAJBx9_pd7gnbtQ&callback=initMap"
            async defer></script>
{{/partial}}

{{> layout.hbs }}